{"remainingRequest":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/src/components/search-user/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/src/components/search-user/index.vue","mtime":1604998570000},{"path":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/node_modules/cache-loader/dist/cjs.js","mtime":1610420035136},{"path":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/node_modules/babel-loader/lib/index.js","mtime":1607423996145},{"path":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/node_modules/cache-loader/dist/cjs.js","mtime":1610420035136},{"path":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/node_modules/vue-loader/lib/index.js","mtime":1610420042252}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGdldFNlYXJjaEhpc3RvcnkgfSBmcm9tICIuLi8uLi91dGlscyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNlYXJjaFVzZXIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hJbnB1dDogIiIsCiAgICAgIGNhbGxVc2VySWQ6ICIiLAogICAgICBzZWFyY2hSZXN1bHRMaXN0OiBbXSwKICAgICAgc2VhcmNoSGlzdG9yeVVzZXI6IGdldFNlYXJjaEhpc3RvcnkoKQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSh7CiAgICAgIGxvZ2luVXNlckluZm86IHN0YXRlID0+IHN0YXRlLmxvZ2luVXNlckluZm8sCiAgICAgIG1lZXRpbmdVc2VySWRMaXN0OiBzdGF0ZSA9PiBzdGF0ZS5tZWV0aW5nVXNlcklkTGlzdCwKICAgICAgY2FsbFN0YXR1czogc3RhdGUgPT4gc3RhdGUuY2FsbFN0YXR1cywKICAgICAgaXNJbnZpdGVyOiBzdGF0ZSA9PiBzdGF0ZS5pc0ludml0ZXIKICAgIH0pLAogICAgdXNlckxpc3Q6IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5zZWFyY2hJbnB1dCA9PT0gIiIgJiYgdGhpcy5zZWFyY2hIaXN0b3J5VXNlci5sZW5ndGggIT09IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hIaXN0b3J5VXNlcjsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5zZWFyY2hSZXN1bHRMaXN0OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNhbGxTdGF0dXM6IGZ1bmN0aW9uKG5ld1N0YXR1cywgb2xkU3RhdHVzKSB7CiAgICAgIGlmIChuZXdTdGF0dXMgIT09IG9sZFN0YXR1cyAmJiBuZXdTdGF0dXMgPT09ICJjb25uZWN0ZWQiKSB7CiAgICAgICAgdGhpcy5zZWFyY2hJbnB1dCA9ICIiOwogICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0TGlzdCA9IFtdOwogICAgICB9CiAgICAgIGlmIChuZXdTdGF0dXMgPT09ICJpZGxlIikgewogICAgICAgIHRoaXMuY2FsbFVzZXJJZCA9ICIiOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDYWxsQnRuQ2xpY2s6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgIGlmIChwYXJhbSA9PT0gdGhpcy5sb2dpblVzZXJJbmZvLnVzZXJJZCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoIuivt+i+k+WFpeato+ehruWPt+eggSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmNhbGxVc2VySWQgPSBwYXJhbTsKICAgICAgdGhpcy4kZW1pdCgiY2FsbFVzZXIiLCB7IHBhcmFtIH0pOwogICAgfSwKICAgIGhhbmRsZUNhbmNlbENhbGxCdG5DbGljazogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuY2FsbFVzZXJJZCA9ICIiOwogICAgICB0aGlzLiRlbWl0KCJjYW5jZWxDYWxsVXNlciIpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/search-user","sourcesContent":["<template>\n  <div class=\"search-user-container\" v-if=\"callStatus !== 'connected'\">\n    <div class=\"search-section\">\n      <el-input class=\"inline-input\" v-model=\"searchInput\" maxlength=\"11\" placeholder=\"请输入呼叫号码\"></el-input>\n    </div>\n\n    <div v-show=\"callStatus !== 'connected'\" class=\"search-user-list\">\n      <div v-if=\"callStatus === 'calling' && isInviter\" class=\"calling-user-footer\">\n        <el-button class=\"user-item-join-btn calling\">呼叫中...</el-button>\n        <el-button class=\"user-item-cancel-join-btn\" @click=\"handleCancelCallBtnClick\">取消</el-button>\n      </div>\n      <el-button v-else @click=\"handleCallBtnClick(searchInput)\" class=\"user-item-join-btn\">呼叫</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { getSearchHistory } from \"../../utils\";\n\nexport default {\n  name: \"SearchUser\",\n  data() {\n    return {\n      searchInput: \"\",\n      callUserId: \"\",\n      searchResultList: [],\n      searchHistoryUser: getSearchHistory()\n    };\n  },\n  computed: {\n    ...mapState({\n      loginUserInfo: state => state.loginUserInfo,\n      meetingUserIdList: state => state.meetingUserIdList,\n      callStatus: state => state.callStatus,\n      isInviter: state => state.isInviter\n    }),\n    userList: function() {\n      if (this.searchInput === \"\" && this.searchHistoryUser.length !== 0) {\n        return this.searchHistoryUser;\n      }\n      return this.searchResultList;\n    }\n  },\n  watch: {\n    callStatus: function(newStatus, oldStatus) {\n      if (newStatus !== oldStatus && newStatus === \"connected\") {\n        this.searchInput = \"\";\n        this.searchResultList = [];\n      }\n      if (newStatus === \"idle\") {\n        this.callUserId = \"\";\n      }\n    }\n  },\n  methods: {\n    handleCallBtnClick: function(param) {\n      if (param === this.loginUserInfo.userId) {\n        this.$message(\"请输入正确号码\");\n        return;\n      }\n      this.callUserId = param;\n      this.$emit(\"callUser\", { param });\n    },\n    handleCancelCallBtnClick: function() {\n      this.callUserId = \"\";\n      this.$emit(\"cancelCallUser\");\n    }\n  }\n};\n</script>\n\n<style scoped>\n.search-user-container {\n  width: 400px;\n  margin: 10px auto 0;\n}\n.search-section {\n  display: flex;\n  flex-direction: row;\n}\n.search-user-btn {\n  margin-left: 10px;\n}\n.search-user-list {\n  padding-top: 20px;\n}\n.search-user-list-title {\n  margin-top: 20px;\n  font-size: 18px;\n  text-align: left;\n}\n.user-item {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 10px;\n}\n.user-item-info {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.user-item-avatar-wrapper img {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n}\n.user-item-username {\n  margin-left: 20px;\n}\n@media screen and (max-width: 767px) {\n  .search-user-container {\n    width: 90%;\n  }\n}\n</style>\n"]}]}