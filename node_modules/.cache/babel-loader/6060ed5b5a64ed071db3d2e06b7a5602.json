{"remainingRequest":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/node_modules/babel-loader/lib/index.js!/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/node_modules/eslint-loader/index.js??ref--13-0!/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/src/store/index.js","dependencies":[{"path":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/src/store/index.js","mtime":1604998570000},{"path":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/node_modules/cache-loader/dist/cjs.js","mtime":1610420035136},{"path":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/node_modules/babel-loader/lib/index.js","mtime":1607423996145},{"path":"/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/node_modules/eslint-loader/index.js","mtime":1597388785339}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKVnVlLnVzZShWdWV4KTsKCmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKCkgewogIHJldHVybiBuZXcgVnVleC5TdG9yZSh7CiAgICBzdGF0ZTogewogICAgICBpc0xvZ2luOiBmYWxzZSwKICAgICAgbG9naW5Vc2VySW5mbzogbnVsbCwKICAgICAgLy8gdHJ0YyDnm7jlhbMKICAgICAgY2FsbFN0YXR1czogJycsCiAgICAgIC8vIOeKtuaAgSwgaWRsZSwgY2FsbGluZywgY29ubmVjdGVkCiAgICAgIGlzSW52aXRlcjogZmFsc2UsCiAgICAgIC8vIGMyYyDpgJror53vvIzor7TkuI3lrprkuIDlvIDlp4vkuI3mmK8gaW52aXRlciwg5ZCO6Z2i6YKA6K+35LqG5Yir5Lq65bCx5pivIGludml0ZXIg5LqGCiAgICAgIG1lZXRpbmdVc2VySWRMaXN0OiBbXSwKICAgICAgbXV0ZVZpZGVvVXNlcklkTGlzdDogW10sCiAgICAgIG11dGVBdWRpb1VzZXJJZExpc3Q6IFtdCiAgICB9LAogICAgbXV0YXRpb25zOiB7CiAgICAgIHVzZXJMb2dpblN1Y2Nlc3M6IGZ1bmN0aW9uIHVzZXJMb2dpblN1Y2Nlc3Moc3RhdGUpIHsKICAgICAgICBzdGF0ZS5pc0xvZ2luID0gdHJ1ZTsKICAgICAgfSwKICAgICAgdXNlckxvZ291dFN1Y2Nlc3M6IGZ1bmN0aW9uIHVzZXJMb2dvdXRTdWNjZXNzKHN0YXRlKSB7CiAgICAgICAgc3RhdGUuaXNMb2dpbiA9IGZhbHNlOwogICAgICAgIHN0YXRlLmxvZ2luVXNlckluZm8gPSBudWxsOwogICAgICB9LAogICAgICBzZXRMb2dpblVzZXJJbmZvOiBmdW5jdGlvbiBzZXRMb2dpblVzZXJJbmZvKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgICAgdmFyIHVzZXJJZCA9IHBheWxvYWQudXNlcklkLAogICAgICAgICAgICB1c2VyU2lnID0gcGF5bG9hZC51c2VyU2lnOwogICAgICAgIHN0YXRlLmxvZ2luVXNlckluZm8gPSB7CiAgICAgICAgICB1c2VySWQ6IHVzZXJJZCwKICAgICAgICAgIHVzZXJTaWc6IHVzZXJTaWcKICAgICAgICB9OwogICAgICB9LAogICAgICB1cGRhdGVJc0ludml0ZXI6IGZ1bmN0aW9uIHVwZGF0ZUlzSW52aXRlcihzdGF0ZSwgaXNJbnZpdGVyKSB7CiAgICAgICAgc3RhdGUuaXNJbnZpdGVyID0gaXNJbnZpdGVyOwogICAgICB9LAogICAgICB1cGRhdGVDYWxsU3RhdHVzOiBmdW5jdGlvbiB1cGRhdGVDYWxsU3RhdHVzKHN0YXRlLCBjYWxsU3RhdHVzKSB7CiAgICAgICAgc3RhdGUuY2FsbFN0YXR1cyA9IGNhbGxTdGF0dXM7CiAgICAgIH0sCiAgICAgIHVzZXJKb2luTWVldGluZzogZnVuY3Rpb24gdXNlckpvaW5NZWV0aW5nKHN0YXRlLCB1c2VySWQpIHsKICAgICAgICBpZiAoc3RhdGUubWVldGluZ1VzZXJJZExpc3QuaW5kZXhPZih1c2VySWQpID09PSAtMSkgewogICAgICAgICAgc3RhdGUubWVldGluZ1VzZXJJZExpc3QucHVzaCh1c2VySWQpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdXNlckxlYXZlTWVldGluZzogZnVuY3Rpb24gdXNlckxlYXZlTWVldGluZyhzdGF0ZSwgdXNlcklkKSB7CiAgICAgICAgdmFyIGluZGV4ID0gc3RhdGUubWVldGluZ1VzZXJJZExpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbSA9PT0gdXNlcklkOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoaW5kZXggPj0gMCkgewogICAgICAgICAgc3RhdGUubWVldGluZ1VzZXJJZExpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRpc3NvbHZlTWVldGluZzogZnVuY3Rpb24gZGlzc29sdmVNZWV0aW5nKHN0YXRlKSB7CiAgICAgICAgc3RhdGUubWVldGluZ1VzZXJJZExpc3QgPSBbXTsKICAgICAgICBzdGF0ZS5pc011dGVWaWRlb1VzZXJJZExpc3QgPSBbXTsKICAgICAgICBzdGF0ZS5pc011dGVBdWRpb1VzZXJJZExpc3QgPSBbXTsKICAgICAgfSwKICAgICAgdXBkYXRlTXV0ZVZpZGVvVXNlcklkTGlzdDogZnVuY3Rpb24gdXBkYXRlTXV0ZVZpZGVvVXNlcklkTGlzdChzdGF0ZSwgdXNlcklkTGlzdCkgewogICAgICAgIHN0YXRlLm11dGVWaWRlb1VzZXJJZExpc3QgPSB1c2VySWRMaXN0OwogICAgICB9LAogICAgICB1cGRhdGVNdXRlQXVkaW9Vc2VySWRMaXN0OiBmdW5jdGlvbiB1cGRhdGVNdXRlQXVkaW9Vc2VySWRMaXN0KHN0YXRlLCB1c2VySWRMaXN0KSB7CiAgICAgICAgc3RhdGUubXV0ZUF1ZGlvVXNlcklkTGlzdCA9IHVzZXJJZExpc3Q7CiAgICAgIH0KICAgIH0KICB9KTsKfQoKdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoKTsKZXhwb3J0IGRlZmF1bHQgc3RvcmU7"},{"version":3,"sources":["/Users/xuzhitao/Desktop/Web/TRTCScenesDemo/trtc-calling-web/src/store/index.js"],"names":["Vue","Vuex","use","createStore","Store","state","isLogin","loginUserInfo","callStatus","isInviter","meetingUserIdList","muteVideoUserIdList","muteAudioUserIdList","mutations","userLoginSuccess","userLogoutSuccess","setLoginUserInfo","payload","userId","userSig","updateIsInviter","updateCallStatus","userJoinMeeting","indexOf","push","userLeaveMeeting","index","findIndex","item","splice","dissolveMeeting","isMuteVideoUserIdList","isMuteAudioUserIdList","updateMuteVideoUserIdList","userIdList","updateMuteAudioUserIdList","store"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nfunction createStore () {\n  return new Vuex.Store({\n    state: {\n      isLogin: false,\n      loginUserInfo: null,\n      // trtc 相关\n      callStatus: '', // 状态, idle, calling, connected\n      isInviter: false, // c2c 通话，说不定一开始不是 inviter, 后面邀请了别人就是 inviter 了\n      meetingUserIdList: [],\n      muteVideoUserIdList: [],\n      muteAudioUserIdList: []\n    },\n    mutations: {\n      userLoginSuccess (state) {\n        state.isLogin = true;\n      },\n      userLogoutSuccess (state) {\n        state.isLogin = false;\n        state.loginUserInfo = null;\n      },\n      setLoginUserInfo (state, payload) {\n        const {userId, userSig} = payload;\n        state.loginUserInfo = {\n          userId, userSig\n        }\n      },\n      updateIsInviter (state, isInviter) {\n        state.isInviter = isInviter;\n      },\n      updateCallStatus (state, callStatus) {\n        state.callStatus = callStatus;\n      },\n      userJoinMeeting (state, userId) {\n        if (state.meetingUserIdList.indexOf(userId) === -1) {\n          state.meetingUserIdList.push(userId);\n        }\n      },\n      userLeaveMeeting (state, userId) {\n        const index = state.meetingUserIdList.findIndex(item => item === userId);\n        if (index >= 0) {\n          state.meetingUserIdList.splice(index, 1);\n        }\n      },\n      dissolveMeeting (state) {\n        state.meetingUserIdList = [];\n        state.isMuteVideoUserIdList = [];\n        state.isMuteAudioUserIdList = [];\n      },\n      updateMuteVideoUserIdList (state, userIdList) {\n        state.muteVideoUserIdList = userIdList;\n      },\n      updateMuteAudioUserIdList (state, userIdList) {\n        state.muteAudioUserIdList = userIdList;\n      }\n    }\n  });\n}\n\nconst store = createStore();\nexport default store;\n"]}]}